<div class="min-h-screen bg-gray-50 dark:bg-gray-900">
  <!-- Navbar -->
  <app-navbar
    [isSidebarCollapsed]="isSidebarCollapsed()"
    (toggleSidebar)="toggleSidebar()"
  />

  <!-- Main Layout -->
  <div class="flex">
    <!-- Sidebar Desktop (oculto en mobile) -->
    <div class="desktop-sidebar">
      <app-sidebar
        [isCollapsed]="isSidebarCollapsed()"
        (toggleCollapse)="toggleSidebar()"
      />
    </div>

    <!-- Drawer Mobile -->
    <p-drawer
      [visible]="isDrawerOpen()"
      (visibleChange)="isDrawerOpen.set($event)"
      position="full"
      [modal]="true"
      [showCloseIcon]="false"
      styleClass="mobile-drawer-wrapper"
    >
      <app-mobile-drawer
        [visible]="isDrawerOpen()"
        (closeDrawer)="closeDrawer()"
      />
    </p-drawer>

    <!-- Main Content -->
    <main
      class="main-content"
      [class.ml-64]="!isSidebarCollapsed() && !isMobile()"
      [class.ml-16]="isSidebarCollapsed() && !isMobile()"
    >
      <div class="w-full p-2 md:p-4  mt-16">
        <router-outlet />
      </div>
    </main>
  </div>
</div>
